import{j as r}from"./jsx-runtime.rd1UdKLT.js";import{a as fe,L as Pe,S as ft,h as pt}from"./loader.BaX-dSmh.js";import{r as i,G as E,g as mt}from"./index.CYTk6vBG.js";import{r as re,T as ht,k as be,x as Me,d as xt,p as vt,e as ue,h as j,i as le,j as bt,G as gt,m as yt,Z as ze,u as Fe,n as wt,o as Ot,S as _,L as St,q as ce,s as Et,t as kt,N as De,w as _e,$ as Ve,v as Ue,z as He,B as G,C as Be,D as It,E as Ie,H as Ct,I as $t,J as jt,R as At,K as Nt,M as Rt,O as Tt,P as Lt,Q as Pt,U as Mt,V as Ke,W as zt,X as Qe,Y as Ft,_ as N,a0 as Dt,a1 as Ce,a2 as _t,a3 as Vt,a4 as Ut,a5 as Ht,a6 as Bt,a7 as Kt,F as Qt,a as We,b as Wt,l as Gt,f as Zt,c as qt,y as Yt,g as oe,A as Jt}from"./constants.D8UmWmOe.js";import{i as Xt,s as en,f as tn,c as Y}from"./helpers.D_n2Z14X.js";import{o as F,Y as Z,a as Q,p as ye,m as nn,b as J,y as X,V as we,c as sn,N as on,i as pe,x as an,s as rn,n as ge,d as ln,e as cn,A as $e,u as un,T as dn,K as fn}from"./useToast.2JiqVnB-.js";import"./store.Bn0h-d5G.js";import"./index.XsjW1gQD.js";function Ge(e,n,t){let[s,o]=i.useState(t),a=e!==void 0,d=i.useRef(a),l=i.useRef(!1),f=i.useRef(!1);return a&&!d.current&&!l.current?(l.current=!0,d.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&d.current&&!f.current&&(f.current=!0,d.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?e:s,F(c=>(a||re.flushSync(()=>o(c)),n?.(c)))]}function Ze(e){let[n]=i.useState(e);return n}function qe(e={},n=null,t=[]){for(let[s,o]of Object.entries(e))Je(t,Ye(n,s),o);return t}function Ye(e,n){return e?e+"["+n+"]":n}function Je(e,n,t){if(Array.isArray(t))for(let[s,o]of t.entries())Je(e,Ye(n,s.toString()),o);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):pn(t)&&!i.isValidElement(t)&&qe(t,n,e)}function Xe(e){var n,t;let s=(n=e?.form)!=null?n:e.closest("form");if(s){for(let o of s.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(t=s.requestSubmit)==null||t.call(s)}}function pn(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let n=Object.getPrototypeOf(e);return n===null||Object.getPrototypeOf(n)===null}let mn="span";var Oe=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Oe||{});function hn(e,n){var t;let{features:s=1,...o}=e,a={ref:n,"aria-hidden":(s&2)===2?!0:(t=o["aria-hidden"])!=null?t:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Q()({ourProps:a,theirProps:o,slot:{},defaultTag:mn,name:"Hidden"})}let et=Z(hn),xn=i.createContext(null);function vn({children:e}){let n=i.useContext(xn);if(!n)return E.createElement(E.Fragment,null,e);let{target:t}=n;return t?re.createPortal(E.createElement(E.Fragment,null,e),t):null}function tt({data:e,form:n,disabled:t,onReset:s,overrides:o}){let[a,d]=i.useState(null),l=ye();return i.useEffect(()=>{if(s&&a)return l.addEventListener(a,"reset",s)},[a,n,s]),E.createElement(vn,null,E.createElement(bn,{setForm:d,formId:n}),qe(e).map(([f,c])=>E.createElement(et,{features:Oe.Hidden,...nn({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:n,disabled:t,name:f,value:c,...o})})))}function bn({setForm:e,formId:n}){return i.useEffect(()=>{if(n){let t=document.getElementById(n);t&&e(t)}},[e,n]),n?null:E.createElement(et,{features:Oe.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let s=t.closest("form");s&&e(s)}})}function gn(e,n){return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&"id"in e&&"id"in n?e.id===n.id:e===n}function yn(e=gn){return i.useCallback((n,t)=>{if(typeof e=="string"){let s=e;return n?.[s]===t?.[s]}return e(n,t)},[e])}function wn({children:e,freeze:n},t){let s=nt(n,e);return i.isValidElement(s)?i.cloneElement(s,{ref:t}):E.createElement(E.Fragment,null,s)}E.forwardRef(wn);function nt(e,n){let[t,s]=i.useState(n);return!e&&t!==n&&s(n),e?t:n}var On=Object.defineProperty,Sn=(e,n,t)=>n in e?On(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,je=(e,n,t)=>(Sn(e,typeof n!="symbol"?n+"":n,t),t),L=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(L||{}),K=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(K||{}),de=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(de||{}),st=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.SelectOption=5]="SelectOption",e[e.RegisterOptions=6]="RegisterOptions",e[e.UnregisterOptions=7]="UnregisterOptions",e[e.SetButtonElement=8]="SetButtonElement",e[e.SetOptionsElement=9]="SetOptionsElement",e[e.SortOptions=10]="SortOptions",e[e.MarkButtonAsMoved=11]="MarkButtonAsMoved",e))(st||{});function Ae(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,s=gt(n(e.options.slice()),a=>a.dataRef.current.domRef.current),o=t?s.indexOf(t):null;return o===-1&&(o=null),{options:s,activeOptionIndex:o}}let En={1(e){if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.buttonElement?ue.Tracked(bt(e.buttonElement)):e.buttonPositionState;return{...e,activeOptionIndex:null,pendingFocus:{focus:j.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:n}},0(e,n){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:s}=e.dataRef.current,o=e.options.findIndex(a=>s(a.dataRef.current.value));return o!==-1&&(t=o),{...e,frozenValue:!1,pendingFocus:n.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1,buttonPositionState:ue.Idle}},2(e,n){var t,s,o,a,d;if(e.dataRef.current.disabled||e.listboxState===1)return e;let l={...e,searchQuery:"",activationTrigger:(t=n.trigger)!=null?t:1,__demoMode:!1};if(n.focus===j.Nothing)return{...l,activeOptionIndex:null};if(n.focus===j.Specific)return{...l,activeOptionIndex:e.options.findIndex(u=>u.id===n.id)};if(n.focus===j.Previous){let u=e.activeOptionIndex;if(u!==null){let x=e.options[u].dataRef.current.domRef,m=le(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(m!==null){let p=e.options[m].dataRef.current.domRef;if(((s=x.current)==null?void 0:s.previousElementSibling)===p.current||((o=p.current)==null?void 0:o.previousElementSibling)===null)return{...l,activeOptionIndex:m}}}}else if(n.focus===j.Next){let u=e.activeOptionIndex;if(u!==null){let x=e.options[u].dataRef.current.domRef,m=le(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(m!==null){let p=e.options[m].dataRef.current.domRef;if(((a=x.current)==null?void 0:a.nextElementSibling)===p.current||((d=p.current)==null?void 0:d.nextElementSibling)===null)return{...l,activeOptionIndex:m}}}}let f=Ae(e),c=le(n,{resolveItems:()=>f.options,resolveActiveIndex:()=>f.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...l,...f,activeOptionIndex:c}},3:(e,n)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,s=e.searchQuery+n.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(d=>{var l;return!d.dataRef.current.disabled&&((l=d.dataRef.current.textValue)==null?void 0:l.startsWith(s))}),a=o?e.options.indexOf(o):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:s}:{...e,searchQuery:s,activeOptionIndex:a,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5(e){return e.dataRef.current.mode===0?{...e,frozenValue:!0}:{...e}},6:(e,n)=>{let t=e.options.concat(n.options),s=e.activeOptionIndex;if(e.pendingFocus.focus!==j.Nothing&&(s=le(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:o}=e.dataRef.current;if(o){let a=t.findIndex(d=>o?.(d.dataRef.current.value));a!==-1&&(s=a)}}return{...e,options:t,activeOptionIndex:s,pendingFocus:{focus:j.Nothing},pendingShouldSort:!0}},7:(e,n)=>{let t=e.options,s=[],o=new Set(n.options);for(let[a,d]of t.entries())if(o.has(d.id)&&(s.push(a),o.delete(d.id),o.size===0))break;if(s.length>0){t=t.slice();for(let a of s.reverse())t.splice(a,1)}return{...e,options:t,activationTrigger:1}},8:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},9:(e,n)=>e.optionsElement===n.element?e:{...e,optionsElement:n.element},10:e=>e.pendingShouldSort?{...e,...Ae(e),pendingShouldSort:!1}:e,11(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:ue.Moved}}};class Se extends ht{constructor(n){super(n),je(this,"actions",{onChange:t=>{let{onChange:s,compare:o,mode:a,value:d}=this.state.dataRef.current;return J(a,{0:()=>s?.(t),1:()=>{let l=d.slice(),f=l.findIndex(c=>o(c,t));return f===-1?l.push(t):l.splice(f,1),s?.(l)}})},registerOption:be(()=>{let t=[],s=new Set;return[(o,a)=>{s.has(a)||(s.add(a),t.push({id:o,dataRef:a}))},()=>(s.clear(),this.send({type:6,options:t.splice(0)}))]}),unregisterOption:be(()=>{let t=[];return[s=>t.push(s),()=>{this.send({type:7,options:t.splice(0)})}]}),goToOption:be(()=>{let t=null;return[(s,o)=>{t={type:2,...s,trigger:o}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{var t;if(this.state.activeOptionIndex!==null){let{dataRef:s}=this.state.options[this.state.activeOptionIndex];this.actions.selectOption(s.current.value)}else this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(t=this.state.buttonElement)==null||t.focus({preventScroll:!0}))},selectOption:t=>{this.send({type:5,value:t})},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:8,element:t})},setOptionsElement:t=>{this.send({type:9,element:t})}}),je(this,"selectors",{activeDescendantId(t){var s;let o=t.activeOptionIndex,a=t.options;return o===null||(s=a[o])==null?void 0:s.id},isActive(t,s){var o;let a=t.activeOptionIndex,d=t.options;return a!==null?((o=d[a])==null?void 0:o.id)===s:!1},hasFrozenValue(t){return t.frozenValue},shouldScrollIntoView(t,s){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,s)},didButtonMove(t){return t.buttonPositionState.kind==="Moved"}}),this.on(6,()=>{requestAnimationFrame(()=>{this.send({type:10})})});{let t=this.state.id,s=Me.get(null);this.disposables.add(s.on(xt.Push,o=>{!s.selectors.isTop(o,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>s.actions.push(t)),this.on(1,()=>s.actions.pop(t))}this.disposables.group(t=>{this.on(1,s=>{s.buttonElement&&(t.dispose(),t.add(vt(s.buttonElement,s.buttonPositionState,()=>{this.send({type:11})})))})}),this.on(5,(t,s)=>{var o;this.actions.onChange(s.value),this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(o=this.state.buttonElement)==null||o.focus({preventScroll:!0}))})}static new({id:n,__demoMode:t=!1}){return new Se({id:n,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:j.Nothing},frozenValue:!1,__demoMode:t,buttonPositionState:ue.Idle})}reduce(n,t){return J(t.type,En,n,t)}}const ot=i.createContext(null);function Ee(e){let n=i.useContext(ot);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,at),t}return n}function at({id:e,__demoMode:n=!1}){let t=i.useMemo(()=>Se.new({id:e,__demoMode:n}),[]);return yt(()=>t.dispose()),t}let me=i.createContext(null);me.displayName="ListboxDataContext";function ie(e){let n=i.useContext(me);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ie),t}return n}let kn=i.Fragment;function In(e,n){let t=i.useId(),s=Ke(),{value:o,defaultValue:a,form:d,name:l,onChange:f,by:c,invalid:u=!1,disabled:x=s||!1,horizontal:m=!1,multiple:p=!1,__demoMode:y=!1,...C}=e;const S=m?"horizontal":"vertical";let $=X(n),b=Ze(a),[h=p?[]:void 0,O]=Ge(o,f,b),g=at({id:t,__demoMode:y}),R=i.useRef({static:!1,hold:!1}),T=i.useRef(new Map),D=yn(c),I=i.useCallback(P=>J(w.mode,{[K.Multi]:()=>h.some(W=>D(W,P)),[K.Single]:()=>D(h,P)}),[h]),w=G({value:h,disabled:x,invalid:u,mode:p?K.Multi:K.Single,orientation:S,onChange:O,compare:D,isSelected:I,optionsPropsRef:R,listRef:T});ge(()=>{g.state.dataRef.current=w},[w]);let z=_(g,P=>P.listboxState),V=Me.get(null),B=_(V,i.useCallback(P=>V.selectors.isTop(P,t),[V,t])),[U,k]=_(g,P=>[P.buttonElement,P.optionsElement]);zt(B,[U,k],(P,W)=>{g.send({type:st.CloseListbox}),_t(W,Vt.Loose)||(P.preventDefault(),U?.focus())});let H=G({open:z===L.Open,disabled:x,invalid:u,value:h}),[ee,te]=Qe({inherit:!0}),q={ref:$},ne=i.useCallback(()=>{if(b!==void 0)return O?.(b)},[O,b]),se=Q();return E.createElement(te,{value:ee,props:{htmlFor:U?.id},slot:{open:z===L.Open,disabled:x}},E.createElement(Ft,null,E.createElement(ot.Provider,{value:g},E.createElement(me.Provider,{value:w},E.createElement(cn,{value:J(z,{[L.Open]:pe.Open,[L.Closed]:pe.Closed})},l!=null&&h!=null&&E.createElement(tt,{disabled:x,data:{[l]:h},form:d,onReset:ne}),se({ourProps:q,theirProps:C,slot:H,defaultTag:kn,name:"Listbox"}))))))}let Cn="button";function $n(e,n){let t=i.useId(),s=Fe(),o=ie("Listbox.Button"),a=Ee("Listbox.Button"),{id:d=s||`headlessui-listbox-button-${t}`,disabled:l=o.disabled||!1,autoFocus:f=!1,...c}=e,u=X(n,wt(),a.actions.setButtonElement),x=Ot(),[m,p,y]=_(a,k=>[k.listboxState,k.buttonElement,k.optionsElement]),C=m===L.Open;St(C,{trigger:p,action:i.useCallback(k=>{if(p!=null&&p.contains(k.target))return ce.Ignore;let H=k.target.closest('[role="option"]:not([data-disabled])');return Et(H)?ce.Select(H):y!=null&&y.contains(k.target)?ce.Ignore:ce.Close},[p,y]),close:a.actions.closeListbox,select:a.actions.selectActiveOption});let S=F(k=>{switch(k.key){case N.Enter:Xe(k.currentTarget);break;case N.Space:case N.ArrowDown:k.preventDefault(),a.actions.openListbox({focus:o.value?j.Nothing:j.First});break;case N.ArrowUp:k.preventDefault(),a.actions.openListbox({focus:o.value?j.Nothing:j.Last});break}}),$=F(k=>{switch(k.key){case N.Space:k.preventDefault();break}}),b=kt(k=>{var H;a.state.listboxState===L.Open?(re.flushSync(()=>a.actions.closeListbox()),(H=a.state.buttonElement)==null||H.focus({preventScroll:!0})):(k.preventDefault(),a.actions.openListbox({focus:j.Nothing}))}),h=F(k=>k.preventDefault()),O=De([d]),g=_e(),{isFocusVisible:R,focusProps:T}=Ve({autoFocus:f}),{isHovered:D,hoverProps:I}=Ue({isDisabled:l}),{pressed:w,pressProps:z}=He({disabled:l}),V=G({open:m===L.Open,active:w||m===L.Open,disabled:l,invalid:o.invalid,value:o.value,hover:D,focus:R,autofocus:f}),B=_(a,k=>k.listboxState===L.Open),U=we(x(),{ref:u,id:d,type:Be(e,p),"aria-haspopup":"listbox","aria-controls":y?.id,"aria-expanded":B,"aria-labelledby":O,"aria-describedby":g,disabled:l||void 0,autoFocus:f,onKeyDown:S,onKeyUp:$,onKeyPress:h},b,T,I,z);return Q()({ourProps:U,theirProps:c,slot:V,defaultTag:Cn,name:"Listbox.Button"})}let rt=i.createContext(!1),jn="div",An=$e.RenderStrategy|$e.Static;function Nn(e,n){let t=i.useId(),{id:s=`headlessui-listbox-options-${t}`,anchor:o,portal:a=!1,modal:d=!0,transition:l=!1,...f}=e,c=It(o),[u,x]=i.useState(null);c&&(a=!0);let m=ie("Listbox.Options"),p=Ee("Listbox.Options"),[y,C,S,$]=_(p,v=>[v.listboxState,v.buttonElement,v.optionsElement,v.__demoMode]),b=Ie(C),h=Ie(S),O=sn(),[g,R]=on(l,u,O!==null?(O&pe.Open)===pe.Open:y===L.Open);Ct(g,C,p.actions.closeListbox);let T=$?!1:d&&y===L.Open;$t(T,h);let D=$?!1:d&&y===L.Open;jt(D,{allowed:i.useCallback(()=>[C,S],[C,S])});let I=_(p,p.selectors.didButtonMove)?!1:g,w=_(p,p.selectors.hasFrozenValue)&&!e.static,z=nt(w,m.value),V=i.useCallback(v=>m.compare(z,v),[m.compare,z]),B=_(p,v=>{var A;if(c==null||!((A=c?.to)!=null&&A.includes("selection")))return null;let ve=v.options.findIndex(dt=>V(dt.dataRef.current.value));return ve===-1&&(ve=0),ve}),U=(()=>{if(c==null)return;if(B===null)return{...c,inner:void 0};let v=Array.from(m.listRef.current.values());return{...c,inner:{listRef:{current:v},index:B}}})(),[k,H]=At(U),ee=Nt(),te=X(n,c?k:null,p.actions.setOptionsElement,x),q=ye();i.useEffect(()=>{let v=S;v&&y===L.Open&&(Rt(v)||v==null||v.focus({preventScroll:!0}))},[y,S]);let ne=F(v=>{var A;switch(q.dispose(),v.key){case N.Space:if(p.state.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),p.actions.search(v.key);case N.Enter:v.preventDefault(),v.stopPropagation(),p.actions.selectActiveOption();break;case J(m.orientation,{vertical:N.ArrowDown,horizontal:N.ArrowRight}):return v.preventDefault(),v.stopPropagation(),p.actions.goToOption({focus:j.Next});case J(m.orientation,{vertical:N.ArrowUp,horizontal:N.ArrowLeft}):return v.preventDefault(),v.stopPropagation(),p.actions.goToOption({focus:j.Previous});case N.Home:case N.PageUp:return v.preventDefault(),v.stopPropagation(),p.actions.goToOption({focus:j.First});case N.End:case N.PageDown:return v.preventDefault(),v.stopPropagation(),p.actions.goToOption({focus:j.Last});case N.Escape:v.preventDefault(),v.stopPropagation(),re.flushSync(()=>p.actions.closeListbox()),(A=p.state.buttonElement)==null||A.focus({preventScroll:!0});return;case N.Tab:v.preventDefault(),v.stopPropagation(),re.flushSync(()=>p.actions.closeListbox()),Dt(p.state.buttonElement,v.shiftKey?Ce.Previous:Ce.Next);break;default:v.key.length===1&&(p.actions.search(v.key),q.setTimeout(()=>p.actions.clearSearch(),350));break}}),se=_(p,v=>{var A;return(A=v.buttonElement)==null?void 0:A.id}),P=G({open:y===L.Open}),W=we(c?ee():{},{id:s,ref:te,"aria-activedescendant":_(p,p.selectors.activeDescendantId),"aria-multiselectable":m.mode===K.Multi?!0:void 0,"aria-labelledby":se,"aria-orientation":m.orientation,onKeyDown:ne,role:"listbox",tabIndex:y===L.Open?0:void 0,style:{...f.style,...H,"--button-width":Tt(g,C,!0).width},...an(R)}),he=Q(),xe=i.useMemo(()=>m.mode===K.Multi?m:{...m,isSelected:V},[m,V]);return E.createElement(Lt,{enabled:a?e.static||g:!1,ownerDocument:b},E.createElement(me.Provider,{value:xe},he({ourProps:W,theirProps:f,slot:P,defaultTag:jn,features:An,visible:I,name:"Listbox.Options"})))}let Rn="div";function Tn(e,n){let t=i.useId(),{id:s=`headlessui-listbox-option-${t}`,disabled:o=!1,value:a,...d}=e,l=i.useContext(rt)===!0,f=ie("Listbox.Option"),c=Ee("Listbox.Option"),u=_(c,w=>c.selectors.isActive(w,s)),x=f.isSelected(a),m=i.useRef(null),p=Pt(m),y=rn({disabled:o,value:a,domRef:m,get textValue(){return p()}}),C=X(n,m,w=>{w?f.listRef.current.set(s,w):f.listRef.current.delete(s)}),S=_(c,w=>c.selectors.shouldScrollIntoView(w,s));ge(()=>{if(S)return ln().requestAnimationFrame(()=>{var w,z;(z=(w=m.current)==null?void 0:w.scrollIntoView)==null||z.call(w,{block:"nearest"})})},[S,m]),ge(()=>{if(!l)return c.actions.registerOption(s,y),()=>c.actions.unregisterOption(s)},[y,s,l]);let $=F(w=>{if(o)return w.preventDefault();c.actions.selectOption(a)}),b=F(()=>{if(o)return c.actions.goToOption({focus:j.Nothing});c.actions.goToOption({focus:j.Specific,id:s})}),h=Mt(),O=F(w=>h.update(w)),g=F(w=>{h.wasMoved(w)&&(o||u&&c.state.activationTrigger===de.Pointer||c.actions.goToOption({focus:j.Specific,id:s},de.Pointer))}),R=F(w=>{h.wasMoved(w)&&(o||u&&c.state.activationTrigger===de.Pointer&&c.actions.goToOption({focus:j.Nothing}))}),T=G({active:u,focus:u,selected:x,disabled:o,selectedOption:x&&l}),D=l?{}:{id:s,ref:C,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":x,disabled:void 0,onClick:$,onFocus:b,onPointerEnter:O,onMouseEnter:O,onPointerMove:g,onMouseMove:g,onPointerLeave:R,onMouseLeave:R},I=Q();return!x&&l?null:I({ourProps:D,theirProps:d,slot:T,defaultTag:Rn,name:"Listbox.Option"})}let Ln=i.Fragment;function Pn(e,n){let{options:t,placeholder:s,...o}=e,a={ref:X(n)},d=ie("ListboxSelectedOption"),l=G({}),f=d.value===void 0||d.value===null||d.mode===K.Multi&&Array.isArray(d.value)&&d.value.length===0,c=Q();return E.createElement(rt.Provider,{value:!0},c({ourProps:a,theirProps:{...o,children:E.createElement(E.Fragment,null,s&&f?s:t)},slot:l,defaultTag:Ln,name:"ListboxSelectedOption"}))}let Mn=Z(In),it=Z($n),zn=ze,lt=Z(Nn),ct=Z(Tn),Fn=Z(Pn),Dn=Object.assign(Mn,{Button:it,Label:zn,Options:lt,Option:ct,SelectedOption:Fn}),ke=i.createContext(null);ke.displayName="GroupContext";let _n=i.Fragment;function Vn(e){var n;let[t,s]=i.useState(null),[o,a]=Qe(),[d,l]=Ht(),f=i.useMemo(()=>({switch:t,setSwitch:s}),[t,s]),c={},u=e,x=Q();return E.createElement(l,{name:"Switch.Description",value:d},E.createElement(a,{name:"Switch.Label",value:o,props:{htmlFor:(n=f.switch)==null?void 0:n.id,onClick(m){t&&(Bt(m.currentTarget)&&m.preventDefault(),t.click(),t.focus({preventScroll:!0}))}}},E.createElement(ke.Provider,{value:f},x({ourProps:c,theirProps:u,slot:{},defaultTag:_n,name:"Switch.Group"}))))}let Un="button";function Hn(e,n){var t;let s=i.useId(),o=Fe(),a=Ke(),{id:d=o||`headlessui-switch-${s}`,disabled:l=a||!1,checked:f,defaultChecked:c,onChange:u,name:x,value:m,form:p,autoFocus:y=!1,...C}=e,S=i.useContext(ke),[$,b]=i.useState(null),h=i.useRef(null),O=X(h,n,S===null?null:S.setSwitch,b),g=Ze(c),[R,T]=Ge(f,u,g??!1),D=ye(),[I,w]=i.useState(!1),z=F(()=>{w(!0),T?.(!R),D.nextFrame(()=>{w(!1)})}),V=F(A=>{if(Kt(A.currentTarget))return A.preventDefault();A.preventDefault(),z()}),B=F(A=>{A.key===N.Space?(A.preventDefault(),z()):A.key===N.Enter&&Xe(A.currentTarget)}),U=F(A=>A.preventDefault()),k=De(),H=_e(),{isFocusVisible:ee,focusProps:te}=Ve({autoFocus:y}),{isHovered:q,hoverProps:ne}=Ue({isDisabled:l}),{pressed:se,pressProps:P}=He({disabled:l}),W=G({checked:R,disabled:l,hover:q,focus:ee,active:se,autofocus:y,changing:I}),he=we({id:d,ref:O,role:"switch",type:Be(e,$),tabIndex:e.tabIndex===-1?0:(t=e.tabIndex)!=null?t:0,"aria-checked":R,"aria-labelledby":k,"aria-describedby":H,disabled:l||void 0,autoFocus:y,onClick:V,onKeyUp:B,onKeyPress:U},te,ne,P),xe=i.useCallback(()=>{if(g!==void 0)return T?.(g)},[T,g]),v=Q();return E.createElement(E.Fragment,null,x!=null&&E.createElement(tt,{disabled:l,data:{[x]:m||"on"},overrides:{type:"checkbox",checked:R},form:p,onReset:xe}),v({ourProps:he,theirProps:C,slot:W,defaultTag:Un,name:"Switch"}))}let Bn=Z(Hn),Kn=Vn,Qn=ze,Wn=Ut,Gn=Object.assign(Bn,{Group:Kn,Label:Qn,Description:Wn});function Zn({title:e,titleId:n,...t},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const qn=i.forwardRef(Zn),Yn=e=>{const[n,t]=i.useState(!1),[s,o]=i.useState(""),a=i.useRef(null),d=u=>o(u.target.value),l=async()=>{const u=e.server!=="local"?`${e.base}/remote/${e.server}/rename/${e.process_id}`:`${e.base}/process/${e.process_id}/rename`;try{await fe.post(u,{body:s}),t(!1),e.callback(),e.onSuccess?.("Process renamed successfully")}catch(x){e.onError?.("Failed to rename process: "+x.message)}},f=()=>{o(e.old),t(!1)},c=u=>{u.key==="Enter"?(u.preventDefault(),l()):u.key==="Escape"&&f()};return i.useEffect(()=>{o(e.old)},[e.old]),i.useEffect(()=>{n&&a.current&&(a.current.focus(),a.current.select())},[n]),n?r.jsxs("div",{className:"p-2 flex items-center gap-2",onClick:u=>u.stopPropagation(),children:[r.jsx("input",{ref:a,type:"text",value:s,onChange:d,onKeyDown:c,onClick:u=>u.stopPropagation(),className:"flex-1 px-2 py-1 bg-zinc-800 border border-zinc-600 rounded text-zinc-100 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),r.jsx("button",{onClick:u=>{u.stopPropagation(),l()},className:"p-1 bg-green-600 hover:bg-green-700 rounded text-white transition-colors",title:"Save",children:r.jsx(We,{className:"h-4 w-4"})}),r.jsx("button",{onClick:u=>{u.stopPropagation(),f()},className:"p-1 bg-red-600 hover:bg-red-700 rounded text-white transition-colors",title:"Cancel",children:r.jsx(Wt,{className:"h-4 w-4"})})]}):r.jsxs("button",{onClick:u=>{u.preventDefault(),u.stopPropagation(),t(!0)},className:"text-zinc-200 rounded-md flex items-center gap-2 p-2 w-full text-left cursor-pointer hover:bg-zinc-800/80 hover:text-zinc-50",children:[r.jsx(Qt,{className:"h-4 w-4"}),r.jsx("span",{children:"Rename"})]})};var ae={exports:{}},Ne;function Jn(){if(Ne)return ae.exports;Ne=1;var e={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(e).join("|"),t=new RegExp(n,"g"),s=new RegExp(n,"");function o(l){return e[l]}var a=function(l){return l.replace(t,o)},d=function(l){return!!l.match(s)};return ae.exports=a,ae.exports.has=d,ae.exports.remove=a,ae.exports}var Xn=Jn();const es=mt(Xn);/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2020 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const M={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0},ts=(e,n)=>String(e.rankedValue).localeCompare(String(n.rankedValue));function ut(e,n,t){t===void 0&&(t={});const{keys:s,threshold:o=M.MATCHES,baseSort:a=ts,sorter:d=c=>c.sort((u,x)=>as(u,x,a))}=t,l=e.reduce(f,[]);return d(l).map(c=>{let{item:u}=c;return u});function f(c,u,x){const m=ns(u,s,n,t),{rank:p,keyThreshold:y=o}=m;return p>=y&&c.push({...m,item:u,index:x}),c}}ut.rankings=M;function ns(e,n,t,s){if(!n){const a=e;return{rankedValue:a,rank:Re(a,t,s),keyIndex:-1,keyThreshold:s.threshold}}return ls(e,n).reduce((a,d,l)=>{let{rank:f,rankedValue:c,keyIndex:u,keyThreshold:x}=a,{itemValue:m,attributes:p}=d,y=Re(m,t,s),C=c;const{minRanking:S,maxRanking:$,threshold:b}=p;return y<S&&y>=M.MATCHES?y=S:y>$&&(y=$),y>f&&(f=y,u=l,x=b,C=m),{rankedValue:C,rank:f,keyIndex:u,keyThreshold:x}},{rankedValue:e,rank:M.NO_MATCH,keyIndex:-1,keyThreshold:s.threshold})}function Re(e,n,t){return e=Te(e,t),n=Te(n,t),n.length>e.length?M.NO_MATCH:e===n?M.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),n=n.toLowerCase(),e===n?M.EQUAL:e.startsWith(n)?M.STARTS_WITH:e.includes(` ${n}`)?M.WORD_STARTS_WITH:e.includes(n)?M.CONTAINS:n.length===1?M.NO_MATCH:ss(e).includes(n)?M.ACRONYM:os(e,n))}function ss(e){let n="";return e.split(" ").forEach(s=>{s.split("-").forEach(a=>{n+=a.substr(0,1)})}),n}function os(e,n){let t=0,s=0;function o(f,c,u){for(let x=u,m=c.length;x<m;x++)if(c[x]===f)return t+=1,x+1;return-1}function a(f){const c=1/f,u=t/n.length;return M.MATCHES+u*c}const d=o(n[0],e,0);if(d<0)return M.NO_MATCH;s=d;for(let f=1,c=n.length;f<c;f++){const u=n[f];if(s=o(u,e,s),!(s>-1))return M.NO_MATCH}const l=s-d;return a(l)}function as(e,n,t){const{rank:a,keyIndex:d}=e,{rank:l,keyIndex:f}=n;return a===l?d===f?t(e,n):d<f?-1:1:a>l?-1:1}function Te(e,n){let{keepDiacritics:t}=n;return e=`${e}`,t||(e=es(e)),e}function rs(e,n){typeof n=="object"&&(n=n.key);let t;if(typeof n=="function")t=n(e);else if(e==null)t=null;else if(Object.hasOwnProperty.call(e,n))t=e[n];else{if(n.includes("."))return is(n,e);t=null}return t==null?[]:Array.isArray(t)?t:[String(t)]}function is(e,n){const t=e.split(".");let s=[n];for(let o=0,a=t.length;o<a;o++){const d=t[o];let l=[];for(let f=0,c=s.length;f<c;f++){const u=s[f];if(u!=null)if(Object.hasOwnProperty.call(u,d)){const x=u[d];x!=null&&l.push(x)}else d==="*"&&(l=l.concat(u))}s=l}return Array.isArray(s[0])?[].concat(...s):s}function ls(e,n){const t=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],d=cs(a),l=rs(e,a);for(let f=0,c=l.length;f<c;f++)t.push({itemValue:l[f],attributes:d})}return t}const Le={maxRanking:1/0,minRanking:-1/0};function cs(e){return typeof e=="string"?Le:{...Le,...e}}const us=({match:e,children:n})=>{const t=e.toLowerCase(),s=e.length?n.split(new RegExp("("+e+")","ig")):[n];return r.jsx("div",{children:s.map((o,a)=>o.toLowerCase()===t?r.jsx("span",{className:"bg-yellow-400 text-black",children:o},a):r.jsx("span",{className:" text-zinc-200",children:o},a))})},ds=e=>{const n=[{id:1,name:"stdout"},{id:2,name:"stderr"}],[t,s]=i.useState([]),[o,a]=i.useState(!1),[d,l]=i.useState(n[0]),f=i.useRef(null),[c,u]=i.useState(""),[x,m]=i.useState(!1),[p,y]=i.useState(0),C=!c&&t||ut(t,c);i.useEffect(()=>{const b=()=>{const O=window.innerHeight*4/6;y(O)};return b(),window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[]);const S={height:p+"px"};i.useEffect(()=>{const b=g=>{(g.ctrlKey||g.metaKey)&&g.key==="f"&&(m(!0),e.setLiveReload(!1),g.preventDefault())},h=g=>{g.key==="Escape"&&(u(""),m(!1))},O=()=>{u(""),m(!1)};return window.addEventListener("click",O),window.addEventListener("keydown",b),window.addEventListener("keyup",h),()=>{window.removeEventListener("click",O),window.removeEventListener("keydown",b),window.removeEventListener("keyup",h)}},[x]);const $=()=>{const b=e.server!="local"?`${e.base}/remote/${e.server}/logs/${e.id}/${d.name}`:`${e.base}/process/${e.id}/logs/${d.name}`;fe.get(b).json().then(h=>s(h.logs)).finally(()=>a(!0))};return i.useEffect(()=>{a(!1),$()},[d]),i.useEffect(()=>{const b=setInterval(()=>{e.liveReload&&($(),f.current?.scrollIntoView())},5e3);return()=>clearInterval(b)},[e.liveReload]),i.useEffect(()=>{f.current?.scrollIntoView()},[o]),o?r.jsxs("div",{children:[x&&r.jsxs("div",{className:"z-50 fixed top-[16.5rem] right-5 w-96 flex bg-zinc-800/50 backdrop-blur-md px-3 py-1 rounded-lg border border-zinc-700 shadow",children:[r.jsx("input",{className:"grow bg-transparent p-2 border-0 text-white focus:ring-0 sm:text-sm placeholder-zinc-accent-fuchsia-500",autoFocus:!0,placeholder:"Filter logs...",value:c,onChange:b=>u(b.target.value)}),r.jsx("span",{className:"grow-0 text-zinc-400 font-medium mt-1.5",children:c&&C.length+" matches"})]}),r.jsxs("div",{className:"p-5 pb-0 break-words overflow-y-scroll font-mono",style:S,children:[C.map((b,h)=>r.jsx(us,{match:c,children:b},h)),r.jsx("div",{ref:f})]}),r.jsx("div",{className:"absolute bottom-3 right-[125px]",children:r.jsxs(Gn,{checked:e.liveReload,onChange:e.setLiveReload,className:"group relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer items-center justify-start rounded-full border-2 border-transparent bg-zinc-800 transition-colors duration-200 ease-in-out focus:outline-none data-[checked]:bg-sky-500",children:[r.jsx("span",{className:"sr-only",children:"Set live reload"}),r.jsxs("span",{className:"pointer-events-none relative inline-block h-3.5 w-3.5 transform rounded-full bg-zinc-500 group-data-[checked]:bg-white shadow ring-0 transition duration-200 ease-in-out translate-x-0 group-data-[checked]:translate-x-3.5",children:[r.jsx("span",{"aria-hidden":"true",className:"absolute inset-0 flex h-full w-full items-center justify-center transition-opacity duration-200 ease-in group-data-[checked]:opacity-0 group-data-[checked]:duration-100 group-data-[checked]:ease-out",children:r.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",className:"h-2.5 w-2.5 text-zinc-100",children:r.jsx("path",{"fill-rule":"evenodd",d:"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm1 5.75A.75.75 0 0 1 5.75 7h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 5 7.75Zm0 3a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Z","clip-rule":"evenodd"})})}),r.jsx("span",{"aria-hidden":"true",className:"absolute inset-0 flex h-full w-full items-center justify-center opacity-0 transition-opacity duration-100 ease-out group-data-[checked]:opacity-100 group-data-[checked]:duration-200 group-data-[checked]:ease-in",children:r.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",className:"h-3 w-3 text-sky-500",children:r.jsx("path",{"fill-rule":"evenodd",d:"M5 4a.75.75 0 0 1 .738.616l.252 1.388A1.25 1.25 0 0 0 6.996 7.01l1.388.252a.75.75 0 0 1 0 1.476l-1.388.252A1.25 1.25 0 0 0 5.99 9.996l-.252 1.388a.75.75 0 0 1-1.476 0L4.01 9.996A1.25 1.25 0 0 0 3.004 8.99l-1.388-.252a.75.75 0 0 1 0-1.476l1.388-.252A1.25 1.25 0 0 0 4.01 6.004l.252-1.388A.75.75 0 0 1 5 4ZM12 1a.75.75 0 0 1 .721.544l.195.682c.118.415.443.74.858.858l.682.195a.75.75 0 0 1 0 1.442l-.682.195a1.25 1.25 0 0 0-.858.858l-.195.682a.75.75 0 0 1-1.442 0l-.195-.682a1.25 1.25 0 0 0-.858-.858l-.682-.195a.75.75 0 0 1 0-1.442l.682-.195a1.25 1.25 0 0 0 .858-.858l.195-.682A.75.75 0 0 1 12 1ZM10 11a.75.75 0 0 1 .728.568.968.968 0 0 0 .704.704.75.75 0 0 1 0 1.456.968.968 0 0 0-.704.704.75.75 0 0 1-1.456 0 .968.968 0 0 0-.704-.704.75.75 0 0 1 0-1.456.968.968 0 0 0 .704-.704A.75.75 0 0 1 10 11Z","clip-rule":"evenodd"})})})]})]})}),r.jsx(Dn,{className:"absolute bottom-3 right-3",value:d,onChange:l,children:()=>r.jsxs("div",{children:[r.jsxs(it,{className:"relative w-full cursor-pointer rounded-lg py-1.5 pl-3 pr-10 text-left saturate-[50%] border border-zinc-700/50 hover:border-zinc-600/50 bg-zinc-800/50 text-zinc-50 hover:bg-zinc-700/50 shadow-sm focus:outline-none sm:text-sm sm:leading-6",children:[r.jsx("span",{className:"block truncate",children:d.name}),r.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:r.jsx(qn,{className:"h-5 w-5 text-zinc-500","aria-hidden":"true"})})]}),r.jsx(lt,{transition:!0,className:"absolute z-10 -mt-2 max-h-60 w-full overflow-auto rounded-lg bg-zinc-900/80 backdrop-blur-md border border-zinc-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none text-base p-1 text-base shadow-lg focus:outline-none data-[closed]:data-[leave]:opacity-0 data-[leave]:transition data-[leave]:duration-100 data-[leave]:ease-in sm:text-sm -translate-y-full transform",children:n.map(b=>r.jsx(ct,{className:({focus:h})=>Y(h?"bg-zinc-800/80 text-zinc-50":"",h?"":"text-zinc-200","relative rounded-md block p-2 w-full text-left cursor-pointer select-none"),value:b,children:({selected:h,focus:O})=>r.jsxs(r.Fragment,{children:[r.jsx("span",{className:Y(h?"font-semibold":"font-normal","block truncate"),children:b.name}),h?r.jsx("span",{className:"text-emerald-500 absolute inset-y-0 right-0 flex items-center pr-1.5",children:r.jsx(We,{className:"h-4 w-4","aria-hidden":"true"})}):null]})},b.id))})]})})]}):r.jsx(Pe,{})},ys=e=>{const{toasts:n,closeToast:t,success:s,error:o}=un(),[a,d]=i.useState(),[l,f]=i.useState(!1),[c,u]=i.useState(!1),[x,m]=i.useState(null),[p,y]=i.useState(!1),C={online:"bg-emerald-400/10 text-emerald-400",stopped:"bg-red-500/10 text-red-500",crashed:"bg-amber-400/10 text-amber-400"},S=new URLSearchParams(window.location.search).get("server")??"local",$=()=>{let h,O=!1;const g=new ft(`${e.base}/live/process/${S}/${e.id}`,{headers:pt});return m(g),u(!0),g.onmessage=R=>{const T=JSON.parse(R.data);d(T),u(!1),T.info.status=="stopped"&&g.close(),O||(f(!0),O=!0)},g.onerror=R=>{g.close(),h=setTimeout(()=>{$()},5e3)},h};i.useEffect(()=>{const h=$();return()=>{x&&x.close(),clearTimeout(h)}},[]);const b=async(h,O)=>{try{S!="local"?await fe.post(`${e.base}/remote/${S}/action/${h}`,{json:{method:O}}):await fe.post(`${e.base}/process/${h}/action`,{json:{method:O}}),$(),s(Jt[O]||`${O} action completed successfully`)}catch(g){o(`Failed to ${O} process: ${g.message}`)}};if(l){const h=Xt(a.info.status),[O,g]=en(a.info.uptime),[R,T]=tn(h?a.stats.memory_usage.rss:0),D=[{name:"Status",value:a.info.status},{name:"Uptime",value:h?O:"none",unit:h?g:""},{name:"Memory",value:h?R.toFixed(2):"offline",unit:h?T:""},{name:"CPU",value:h?a.stats.cpu_percent.toFixed(2):"offline",unit:h?"%":""}];return r.jsxs(i.Fragment,{children:[r.jsx(dn,{toasts:n,onClose:t}),r.jsxs("div",{className:"absolute top-2 right-3 z-[200]",children:[r.jsx("span",{className:"text-xs text-zinc-500 mr-2",children:p?"Fetching logs live":"Live logs paused"}),r.jsxs("span",{className:"inline-flex items-center gap-x-1.5 rounded-md px-2 py-1 text-xs font-medium text-white ring-1 ring-inset ring-zinc-800",children:[r.jsx("svg",{viewBox:"0 0 6 6","aria-hidden":"true",className:"h-1.5 w-1.5 fill-green-400",children:r.jsx("circle",{r:3,cx:3,cy:3})}),S!="local"?S:"Internal"]})]}),r.jsxs("div",{className:"flex items-start justify-between gap-x-8 gap-y-4 bg-zinc-700/10 px-4 py-4 flex-row items-center sm:px-6 lg:px-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-x-3",children:[r.jsx("h1",{className:"flex gap-x-1 text-base leading-7",children:r.jsx("span",{className:"font-semibold text-white cursor-default",children:a.info.name})}),r.jsx("div",{className:`flex-none rounded-full p-1 ${C[a.info.status]}`,children:r.jsx("div",{className:"h-2 w-2 rounded-full bg-current"})}),h&&r.jsx("div",{className:"order-first flex-none rounded-full bg-sky-400/10 px-2 py-0.5 text-xs font-medium text-sky-400 ring-1 ring-inset ring-sky-400/30 sm:order-none",children:a.info.pid})]}),r.jsx("p",{className:"text-xs leading-6 text-zinc-400",children:a.info.command})]}),r.jsxs("div",{className:"flex lg:ml-4 mt-0",children:[r.jsx("span",{children:r.jsx("button",{type:"button",disabled:c,onClick:()=>b(e.id,h?"restart":"start"),className:"disabled:opacity-50 disabled:pointer-events-none transition inline-flex items-center justify-center space-x-1.5 border focus:outline-none focus:ring-0 focus:ring-offset-0 focus:z-10 shrink-0 saturate-[110%] border-zinc-700 hover:border-zinc-600 bg-zinc-800 text-zinc-50 hover:bg-zinc-700 px-4 py-2 text-sm font-semibold rounded-lg",children:c?r.jsxs("svg",{className:"w-5 h-5 text-zinc-800 animate-spin fill-zinc-50",viewBox:"0 0 100 101",fill:"none",children:[r.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),r.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}):h?"Restart":"Start"})}),r.jsx("span",{className:"ml-3",children:r.jsxs(Gt,{as:"div",className:"relative inline-block text-left",children:[r.jsx("div",{children:r.jsx(Zt,{className:"transition inline-flex items-center justify-center space-x-1.5 border focus:outline-none focus:ring-0 focus:ring-offset-0 focus:z-10 shrink-0 border-zinc-700 bg-transparent hover:bg-zinc-800 p-2 text-sm font-semibold rounded-lg",children:r.jsx(qt,{className:"h-5 w-5 text-zinc-50","aria-hidden":"true"})})}),r.jsx(fn,{as:i.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:r.jsxs(Yt,{anchor:{to:"bottom end",gap:"8px",padding:"16px"},className:"z-10 w-48 origin-top-right rounded-lg bg-zinc-900/80 backdrop-blur-md border border-zinc-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none text-base divide-y divide-zinc-800/50",children:[r.jsxs("div",{className:"p-1.5",children:[!h&&r.jsx(oe,{children:({focus:I})=>r.jsx("a",{onClick:()=>b(e.id,"start"),className:Y(I?"bg-emerald-700/10 text-emerald-500":"text-zinc-200","rounded-md block p-2 w-full text-left cursor-pointer"),children:"Start"})}),r.jsx(oe,{children:({focus:I})=>r.jsx("a",{onClick:()=>b(e.id,"stop"),className:Y(I?"bg-yellow-400/10 text-amber-500":"text-zinc-200","rounded-md block p-2 w-full text-left cursor-pointer"),children:"Terminate"})}),r.jsx(oe,{children:({focus:I})=>r.jsx(Yn,{server:S,base:e.base,process_id:e.id,callback:$,old:a.info.name,onSuccess:s,onError:o})}),r.jsx(oe,{children:({_:I})=>r.jsx("a",{onClick:()=>{b(e.id,"flush"),window.location.reload()},className:"text-zinc-200 rounded-md block p-2 w-full text-left cursor-pointer hover:bg-zinc-800/80 hover:text-zinc-50",children:"Clean Logs"})})]}),r.jsx("div",{className:"p-1.5",children:r.jsx(oe,{children:({focus:I})=>r.jsx("a",{onClick:()=>b(e.id,"delete"),className:Y(I?"bg-red-700/10 text-red-500":"text-red-400","rounded-md block p-2 w-full text-left cursor-pointer"),children:"Delete"})})})]})})]})})]})]}),r.jsx("div",{className:"grid bg-zinc-700/10 grid-cols-4 border-b border-white/[.03] shadow-lg",children:D.map((I,w)=>r.jsxs("div",{className:Y(w%2===1||w===2?"border-l":"","border-t border-white/5 py-6 px-4 sm:px-6 lg:px-8"),children:[r.jsx("p",{className:"text-sm font-medium leading-6 text-zinc-400",children:I.name}),r.jsxs("p",{className:"mt-2 flex items-baseline gap-x-2",children:[r.jsx("span",{className:"text-xl sm:text-3xl lg:text-4xl font-semibold tracking-tight text-white",children:I.value}),I.unit?r.jsx("span",{className:"text-sm text-zinc-400",children:I.unit}):null]})]},I.name))}),r.jsx(ds,{server:S,id:parseInt(e.id),base:e.base,liveReload:p,setLiveReload:y})]})}else return r.jsx(Pe,{})};export{ys as default};
