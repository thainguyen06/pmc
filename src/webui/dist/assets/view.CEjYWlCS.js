import{j as r}from"./jsx-runtime.rd1UdKLT.js";import{L as Te,S as dt,h as ft,a as be}from"./loader.BaX-dSmh.js";import{r as i,G as E,g as pt}from"./index.CYTk6vBG.js";import{r as re,f as Me,s as Pe,T as mt,k as ve,x as ze,a as ht,p as xt,c as ue,b as $,d as le,e as vt,G as bt,g as gt,Z as Fe,u as De,F as yt,h as Ot,S as F,L as wt,i as ce,n as St,j as Et,N as Ve,w as Ue,$ as _e,l as He,m as Be,o as W,q as Ke,y as It,t as Ie,v as kt,z as Ct,A as $t,R as jt,B as At,C as Rt,D as Nt,E as Lt,H as Tt,I as Mt,J as Qe,K as Pt,V as We,M as zt,O as A,P as Ft,Q as ke,U as Dt,W as Vt,X as Ut,Y as _t,_ as Ht,a0 as Bt,a1 as Kt,a2 as Qt,a3 as Wt,a4 as Zt,a5 as oe,a6 as Gt}from"./EllipsisVerticalIcon.zVKeEcnG.js";import{i as qt,s as Yt,f as Jt,c as q}from"./helpers.D_n2Z14X.js";import{o as P,p as ye,m as Xt,u as Y,Y as J,y as X,V as Oe,K as Z,a as en,N as tn,i as fe,x as nn,s as sn,n as ge,b as on,c as an,A as Ce,d as rn}from"./transition.C-NgscBZ.js";import"./store.Bn0h-d5G.js";import"./index.XsjW1gQD.js";function Ze(e,n,t){let[s,o]=i.useState(t),a=e!==void 0,u=i.useRef(a),l=i.useRef(!1),d=i.useRef(!1);return a&&!u.current&&!l.current?(l.current=!0,u.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&u.current&&!d.current&&(d.current=!0,u.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?e:s,P(c=>(a||re.flushSync(()=>o(c)),n?.(c)))]}function Ge(e){let[n]=i.useState(e);return n}function qe(e={},n=null,t=[]){for(let[s,o]of Object.entries(e))Je(t,Ye(n,s),o);return t}function Ye(e,n){return e?e+"["+n+"]":n}function Je(e,n,t){if(Array.isArray(t))for(let[s,o]of t.entries())Je(e,Ye(n,s.toString()),o);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):ln(t)&&!i.isValidElement(t)&&qe(t,n,e)}function Xe(e){var n,t;let s=(n=e?.form)!=null?n:e.closest("form");if(s){for(let o of s.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(t=s.requestSubmit)==null||t.call(s)}}function ln(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let n=Object.getPrototypeOf(e);return n===null||Object.getPrototypeOf(n)===null}let cn=i.createContext(null);function un({children:e}){let n=i.useContext(cn);if(!n)return E.createElement(E.Fragment,null,e);let{target:t}=n;return t?re.createPortal(E.createElement(E.Fragment,null,e),t):null}function et({data:e,form:n,disabled:t,onReset:s,overrides:o}){let[a,u]=i.useState(null),l=ye();return i.useEffect(()=>{if(s&&a)return l.addEventListener(a,"reset",s)},[a,n,s]),E.createElement(un,null,E.createElement(dn,{setForm:u,formId:n}),qe(e).map(([d,c])=>E.createElement(Me,{features:Pe.Hidden,...Xt({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:n,disabled:t,name:d,value:c,...o})})))}function dn({setForm:e,formId:n}){return i.useEffect(()=>{if(n){let t=document.getElementById(n);t&&e(t)}},[e,n]),n?null:E.createElement(Me,{features:Pe.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let s=t.closest("form");s&&e(s)}})}function fn(e,n){return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&"id"in e&&"id"in n?e.id===n.id:e===n}function pn(e=fn){return i.useCallback((n,t)=>{if(typeof e=="string"){let s=e;return n?.[s]===t?.[s]}return e(n,t)},[e])}function mn({children:e,freeze:n},t){let s=tt(n,e);return i.isValidElement(s)?i.cloneElement(s,{ref:t}):E.createElement(E.Fragment,null,s)}E.forwardRef(mn);function tt(e,n){let[t,s]=i.useState(n);return!e&&t!==n&&s(n),e?t:n}var hn=Object.defineProperty,xn=(e,n,t)=>n in e?hn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,$e=(e,n,t)=>(xn(e,typeof n!="symbol"?n+"":n,t),t),N=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(N||{}),K=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(K||{}),de=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(de||{}),nt=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.SelectOption=5]="SelectOption",e[e.RegisterOptions=6]="RegisterOptions",e[e.UnregisterOptions=7]="UnregisterOptions",e[e.SetButtonElement=8]="SetButtonElement",e[e.SetOptionsElement=9]="SetOptionsElement",e[e.SortOptions=10]="SortOptions",e[e.MarkButtonAsMoved=11]="MarkButtonAsMoved",e))(nt||{});function je(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,s=bt(n(e.options.slice()),a=>a.dataRef.current.domRef.current),o=t?s.indexOf(t):null;return o===-1&&(o=null),{options:s,activeOptionIndex:o}}let vn={1(e){if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.buttonElement?ue.Tracked(vt(e.buttonElement)):e.buttonPositionState;return{...e,activeOptionIndex:null,pendingFocus:{focus:$.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:n}},0(e,n){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:s}=e.dataRef.current,o=e.options.findIndex(a=>s(a.dataRef.current.value));return o!==-1&&(t=o),{...e,frozenValue:!1,pendingFocus:n.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1,buttonPositionState:ue.Idle}},2(e,n){var t,s,o,a,u;if(e.dataRef.current.disabled||e.listboxState===1)return e;let l={...e,searchQuery:"",activationTrigger:(t=n.trigger)!=null?t:1,__demoMode:!1};if(n.focus===$.Nothing)return{...l,activeOptionIndex:null};if(n.focus===$.Specific)return{...l,activeOptionIndex:e.options.findIndex(m=>m.id===n.id)};if(n.focus===$.Previous){let m=e.activeOptionIndex;if(m!==null){let h=e.options[m].dataRef.current.domRef,p=le(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(p!==null){let f=e.options[p].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.previousElementSibling)===f.current||((o=f.current)==null?void 0:o.previousElementSibling)===null)return{...l,activeOptionIndex:p}}}}else if(n.focus===$.Next){let m=e.activeOptionIndex;if(m!==null){let h=e.options[m].dataRef.current.domRef,p=le(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(p!==null){let f=e.options[p].dataRef.current.domRef;if(((a=h.current)==null?void 0:a.nextElementSibling)===f.current||((u=f.current)==null?void 0:u.nextElementSibling)===null)return{...l,activeOptionIndex:p}}}}let d=je(e),c=le(n,{resolveItems:()=>d.options,resolveActiveIndex:()=>d.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});return{...l,...d,activeOptionIndex:c}},3:(e,n)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,s=e.searchQuery+n.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(u=>{var l;return!u.dataRef.current.disabled&&((l=u.dataRef.current.textValue)==null?void 0:l.startsWith(s))}),a=o?e.options.indexOf(o):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:s}:{...e,searchQuery:s,activeOptionIndex:a,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5(e){return e.dataRef.current.mode===0?{...e,frozenValue:!0}:{...e}},6:(e,n)=>{let t=e.options.concat(n.options),s=e.activeOptionIndex;if(e.pendingFocus.focus!==$.Nothing&&(s=le(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:o}=e.dataRef.current;if(o){let a=t.findIndex(u=>o?.(u.dataRef.current.value));a!==-1&&(s=a)}}return{...e,options:t,activeOptionIndex:s,pendingFocus:{focus:$.Nothing},pendingShouldSort:!0}},7:(e,n)=>{let t=e.options,s=[],o=new Set(n.options);for(let[a,u]of t.entries())if(o.has(u.id)&&(s.push(a),o.delete(u.id),o.size===0))break;if(s.length>0){t=t.slice();for(let a of s.reverse())t.splice(a,1)}return{...e,options:t,activationTrigger:1}},8:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},9:(e,n)=>e.optionsElement===n.element?e:{...e,optionsElement:n.element},10:e=>e.pendingShouldSort?{...e,...je(e),pendingShouldSort:!1}:e,11(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:ue.Moved}}};class we extends mt{constructor(n){super(n),$e(this,"actions",{onChange:t=>{let{onChange:s,compare:o,mode:a,value:u}=this.state.dataRef.current;return Y(a,{0:()=>s?.(t),1:()=>{let l=u.slice(),d=l.findIndex(c=>o(c,t));return d===-1?l.push(t):l.splice(d,1),s?.(l)}})},registerOption:ve(()=>{let t=[],s=new Set;return[(o,a)=>{s.has(a)||(s.add(a),t.push({id:o,dataRef:a}))},()=>(s.clear(),this.send({type:6,options:t.splice(0)}))]}),unregisterOption:ve(()=>{let t=[];return[s=>t.push(s),()=>{this.send({type:7,options:t.splice(0)})}]}),goToOption:ve(()=>{let t=null;return[(s,o)=>{t={type:2,...s,trigger:o}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{var t;if(this.state.activeOptionIndex!==null){let{dataRef:s}=this.state.options[this.state.activeOptionIndex];this.actions.selectOption(s.current.value)}else this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(t=this.state.buttonElement)==null||t.focus({preventScroll:!0}))},selectOption:t=>{this.send({type:5,value:t})},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:8,element:t})},setOptionsElement:t=>{this.send({type:9,element:t})}}),$e(this,"selectors",{activeDescendantId(t){var s;let o=t.activeOptionIndex,a=t.options;return o===null||(s=a[o])==null?void 0:s.id},isActive(t,s){var o;let a=t.activeOptionIndex,u=t.options;return a!==null?((o=u[a])==null?void 0:o.id)===s:!1},hasFrozenValue(t){return t.frozenValue},shouldScrollIntoView(t,s){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,s)},didButtonMove(t){return t.buttonPositionState.kind==="Moved"}}),this.on(6,()=>{requestAnimationFrame(()=>{this.send({type:10})})});{let t=this.state.id,s=ze.get(null);this.disposables.add(s.on(ht.Push,o=>{!s.selectors.isTop(o,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>s.actions.push(t)),this.on(1,()=>s.actions.pop(t))}this.disposables.group(t=>{this.on(1,s=>{s.buttonElement&&(t.dispose(),t.add(xt(s.buttonElement,s.buttonPositionState,()=>{this.send({type:11})})))})}),this.on(5,(t,s)=>{var o;this.actions.onChange(s.value),this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(o=this.state.buttonElement)==null||o.focus({preventScroll:!0}))})}static new({id:n,__demoMode:t=!1}){return new we({id:n,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:$.Nothing},frozenValue:!1,__demoMode:t,buttonPositionState:ue.Idle})}reduce(n,t){return Y(t.type,vn,n,t)}}const st=i.createContext(null);function Se(e){let n=i.useContext(st);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ot),t}return n}function ot({id:e,__demoMode:n=!1}){let t=i.useMemo(()=>we.new({id:e,__demoMode:n}),[]);return gt(()=>t.dispose()),t}let pe=i.createContext(null);pe.displayName="ListboxDataContext";function ie(e){let n=i.useContext(pe);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ie),t}return n}let bn=i.Fragment;function gn(e,n){let t=i.useId(),s=Qe(),{value:o,defaultValue:a,form:u,name:l,onChange:d,by:c,invalid:m=!1,disabled:h=s||!1,horizontal:p=!1,multiple:f=!1,__demoMode:b=!1,...g}=e;const S=p?"horizontal":"vertical";let k=X(n),y=Ge(a),[O=f?[]:void 0,C]=Ze(o,d,y),x=ot({id:t,__demoMode:b}),R=i.useRef({static:!1,hold:!1}),z=i.useRef(new Map),D=pn(c),H=i.useCallback(L=>Y(w.mode,{[K.Multi]:()=>O.some(Q=>D(Q,L)),[K.Single]:()=>D(O,L)}),[O]),w=W({value:O,disabled:h,invalid:m,mode:f?K.Multi:K.Single,orientation:S,onChange:C,compare:D,isSelected:H,optionsPropsRef:R,listRef:z});ge(()=>{x.state.dataRef.current=w},[w]);let M=F(x,L=>L.listboxState),V=ze.get(null),B=F(V,i.useCallback(L=>V.selectors.isTop(L,t),[V,t])),[U,I]=F(x,L=>[L.buttonElement,L.optionsElement]);Pt(B,[U,I],(L,Q)=>{x.send({type:nt.CloseListbox}),Dt(Q,Vt.Loose)||(L.preventDefault(),U?.focus())});let _=W({open:M===N.Open,disabled:h,invalid:m,value:O}),[ee,te]=We({inherit:!0}),G={ref:k},ne=i.useCallback(()=>{if(y!==void 0)return C?.(y)},[C,y]),se=Z();return E.createElement(te,{value:ee,props:{htmlFor:U?.id},slot:{open:M===N.Open,disabled:h}},E.createElement(zt,null,E.createElement(st.Provider,{value:x},E.createElement(pe.Provider,{value:w},E.createElement(an,{value:Y(M,{[N.Open]:fe.Open,[N.Closed]:fe.Closed})},l!=null&&O!=null&&E.createElement(et,{disabled:h,data:{[l]:O},form:u,onReset:ne}),se({ourProps:G,theirProps:g,slot:_,defaultTag:bn,name:"Listbox"}))))))}let yn="button";function On(e,n){let t=i.useId(),s=De(),o=ie("Listbox.Button"),a=Se("Listbox.Button"),{id:u=s||`headlessui-listbox-button-${t}`,disabled:l=o.disabled||!1,autoFocus:d=!1,...c}=e,m=X(n,yt(),a.actions.setButtonElement),h=Ot(),[p,f,b]=F(a,I=>[I.listboxState,I.buttonElement,I.optionsElement]),g=p===N.Open;wt(g,{trigger:f,action:i.useCallback(I=>{if(f!=null&&f.contains(I.target))return ce.Ignore;let _=I.target.closest('[role="option"]:not([data-disabled])');return St(_)?ce.Select(_):b!=null&&b.contains(I.target)?ce.Ignore:ce.Close},[f,b]),close:a.actions.closeListbox,select:a.actions.selectActiveOption});let S=P(I=>{switch(I.key){case A.Enter:Xe(I.currentTarget);break;case A.Space:case A.ArrowDown:I.preventDefault(),a.actions.openListbox({focus:o.value?$.Nothing:$.First});break;case A.ArrowUp:I.preventDefault(),a.actions.openListbox({focus:o.value?$.Nothing:$.Last});break}}),k=P(I=>{switch(I.key){case A.Space:I.preventDefault();break}}),y=Et(I=>{var _;a.state.listboxState===N.Open?(re.flushSync(()=>a.actions.closeListbox()),(_=a.state.buttonElement)==null||_.focus({preventScroll:!0})):(I.preventDefault(),a.actions.openListbox({focus:$.Nothing}))}),O=P(I=>I.preventDefault()),C=Ve([u]),x=Ue(),{isFocusVisible:R,focusProps:z}=_e({autoFocus:d}),{isHovered:D,hoverProps:H}=He({isDisabled:l}),{pressed:w,pressProps:M}=Be({disabled:l}),V=W({open:p===N.Open,active:w||p===N.Open,disabled:l,invalid:o.invalid,value:o.value,hover:D,focus:R,autofocus:d}),B=F(a,I=>I.listboxState===N.Open),U=Oe(h(),{ref:m,id:u,type:Ke(e,f),"aria-haspopup":"listbox","aria-controls":b?.id,"aria-expanded":B,"aria-labelledby":C,"aria-describedby":x,disabled:l||void 0,autoFocus:d,onKeyDown:S,onKeyUp:k,onKeyPress:O},y,z,H,M);return Z()({ourProps:U,theirProps:c,slot:V,defaultTag:yn,name:"Listbox.Button"})}let at=i.createContext(!1),wn="div",Sn=Ce.RenderStrategy|Ce.Static;function En(e,n){let t=i.useId(),{id:s=`headlessui-listbox-options-${t}`,anchor:o,portal:a=!1,modal:u=!0,transition:l=!1,...d}=e,c=It(o),[m,h]=i.useState(null);c&&(a=!0);let p=ie("Listbox.Options"),f=Se("Listbox.Options"),[b,g,S,k]=F(f,v=>[v.listboxState,v.buttonElement,v.optionsElement,v.__demoMode]),y=Ie(g),O=Ie(S),C=en(),[x,R]=tn(l,m,C!==null?(C&fe.Open)===fe.Open:b===N.Open);kt(x,g,f.actions.closeListbox);let z=k?!1:u&&b===N.Open;Ct(z,O);let D=k?!1:u&&b===N.Open;$t(D,{allowed:i.useCallback(()=>[g,S],[g,S])});let H=F(f,f.selectors.didButtonMove)?!1:x,w=F(f,f.selectors.hasFrozenValue)&&!e.static,M=tt(w,p.value),V=i.useCallback(v=>p.compare(M,v),[p.compare,M]),B=F(f,v=>{var j;if(c==null||!((j=c?.to)!=null&&j.includes("selection")))return null;let xe=v.options.findIndex(ut=>V(ut.dataRef.current.value));return xe===-1&&(xe=0),xe}),U=(()=>{if(c==null)return;if(B===null)return{...c,inner:void 0};let v=Array.from(p.listRef.current.values());return{...c,inner:{listRef:{current:v},index:B}}})(),[I,_]=jt(U),ee=At(),te=X(n,c?I:null,f.actions.setOptionsElement,h),G=ye();i.useEffect(()=>{let v=S;v&&b===N.Open&&(Rt(v)||v==null||v.focus({preventScroll:!0}))},[b,S]);let ne=P(v=>{var j;switch(G.dispose(),v.key){case A.Space:if(f.state.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),f.actions.search(v.key);case A.Enter:v.preventDefault(),v.stopPropagation(),f.actions.selectActiveOption();break;case Y(p.orientation,{vertical:A.ArrowDown,horizontal:A.ArrowRight}):return v.preventDefault(),v.stopPropagation(),f.actions.goToOption({focus:$.Next});case Y(p.orientation,{vertical:A.ArrowUp,horizontal:A.ArrowLeft}):return v.preventDefault(),v.stopPropagation(),f.actions.goToOption({focus:$.Previous});case A.Home:case A.PageUp:return v.preventDefault(),v.stopPropagation(),f.actions.goToOption({focus:$.First});case A.End:case A.PageDown:return v.preventDefault(),v.stopPropagation(),f.actions.goToOption({focus:$.Last});case A.Escape:v.preventDefault(),v.stopPropagation(),re.flushSync(()=>f.actions.closeListbox()),(j=f.state.buttonElement)==null||j.focus({preventScroll:!0});return;case A.Tab:v.preventDefault(),v.stopPropagation(),re.flushSync(()=>f.actions.closeListbox()),Ft(f.state.buttonElement,v.shiftKey?ke.Previous:ke.Next);break;default:v.key.length===1&&(f.actions.search(v.key),G.setTimeout(()=>f.actions.clearSearch(),350));break}}),se=F(f,v=>{var j;return(j=v.buttonElement)==null?void 0:j.id}),L=W({open:b===N.Open}),Q=Oe(c?ee():{},{id:s,ref:te,"aria-activedescendant":F(f,f.selectors.activeDescendantId),"aria-multiselectable":p.mode===K.Multi?!0:void 0,"aria-labelledby":se,"aria-orientation":p.orientation,onKeyDown:ne,role:"listbox",tabIndex:b===N.Open?0:void 0,style:{...d.style,..._,"--button-width":Nt(x,g,!0).width},...nn(R)}),me=Z(),he=i.useMemo(()=>p.mode===K.Multi?p:{...p,isSelected:V},[p,V]);return E.createElement(Lt,{enabled:a?e.static||x:!1,ownerDocument:y},E.createElement(pe.Provider,{value:he},me({ourProps:Q,theirProps:d,slot:L,defaultTag:wn,features:Sn,visible:H,name:"Listbox.Options"})))}let In="div";function kn(e,n){let t=i.useId(),{id:s=`headlessui-listbox-option-${t}`,disabled:o=!1,value:a,...u}=e,l=i.useContext(at)===!0,d=ie("Listbox.Option"),c=Se("Listbox.Option"),m=F(c,w=>c.selectors.isActive(w,s)),h=d.isSelected(a),p=i.useRef(null),f=Tt(p),b=sn({disabled:o,value:a,domRef:p,get textValue(){return f()}}),g=X(n,p,w=>{w?d.listRef.current.set(s,w):d.listRef.current.delete(s)}),S=F(c,w=>c.selectors.shouldScrollIntoView(w,s));ge(()=>{if(S)return on().requestAnimationFrame(()=>{var w,M;(M=(w=p.current)==null?void 0:w.scrollIntoView)==null||M.call(w,{block:"nearest"})})},[S,p]),ge(()=>{if(!l)return c.actions.registerOption(s,b),()=>c.actions.unregisterOption(s)},[b,s,l]);let k=P(w=>{if(o)return w.preventDefault();c.actions.selectOption(a)}),y=P(()=>{if(o)return c.actions.goToOption({focus:$.Nothing});c.actions.goToOption({focus:$.Specific,id:s})}),O=Mt(),C=P(w=>O.update(w)),x=P(w=>{O.wasMoved(w)&&(o||m&&c.state.activationTrigger===de.Pointer||c.actions.goToOption({focus:$.Specific,id:s},de.Pointer))}),R=P(w=>{O.wasMoved(w)&&(o||m&&c.state.activationTrigger===de.Pointer&&c.actions.goToOption({focus:$.Nothing}))}),z=W({active:m,focus:m,selected:h,disabled:o,selectedOption:h&&l}),D=l?{}:{id:s,ref:g,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":h,disabled:void 0,onClick:k,onFocus:y,onPointerEnter:C,onMouseEnter:C,onPointerMove:x,onMouseMove:x,onPointerLeave:R,onMouseLeave:R},H=Z();return!h&&l?null:H({ourProps:D,theirProps:u,slot:z,defaultTag:In,name:"Listbox.Option"})}let Cn=i.Fragment;function $n(e,n){let{options:t,placeholder:s,...o}=e,a={ref:X(n)},u=ie("ListboxSelectedOption"),l=W({}),d=u.value===void 0||u.value===null||u.mode===K.Multi&&Array.isArray(u.value)&&u.value.length===0,c=Z();return E.createElement(at.Provider,{value:!0},c({ourProps:a,theirProps:{...o,children:E.createElement(E.Fragment,null,s&&d?s:t)},slot:l,defaultTag:Cn,name:"ListboxSelectedOption"}))}let jn=J(gn),rt=J(On),An=Fe,it=J(En),lt=J(kn),Rn=J($n),Nn=Object.assign(jn,{Button:rt,Label:An,Options:it,Option:lt,SelectedOption:Rn}),Ee=i.createContext(null);Ee.displayName="GroupContext";let Ln=i.Fragment;function Tn(e){var n;let[t,s]=i.useState(null),[o,a]=We(),[u,l]=_t(),d=i.useMemo(()=>({switch:t,setSwitch:s}),[t,s]),c={},m=e,h=Z();return E.createElement(l,{name:"Switch.Description",value:u},E.createElement(a,{name:"Switch.Label",value:o,props:{htmlFor:(n=d.switch)==null?void 0:n.id,onClick(p){t&&(Ht(p.currentTarget)&&p.preventDefault(),t.click(),t.focus({preventScroll:!0}))}}},E.createElement(Ee.Provider,{value:d},h({ourProps:c,theirProps:m,slot:{},defaultTag:Ln,name:"Switch.Group"}))))}let Mn="button";function Pn(e,n){var t;let s=i.useId(),o=De(),a=Qe(),{id:u=o||`headlessui-switch-${s}`,disabled:l=a||!1,checked:d,defaultChecked:c,onChange:m,name:h,value:p,form:f,autoFocus:b=!1,...g}=e,S=i.useContext(Ee),[k,y]=i.useState(null),O=i.useRef(null),C=X(O,n,S===null?null:S.setSwitch,y),x=Ge(c),[R,z]=Ze(d,m,x??!1),D=ye(),[H,w]=i.useState(!1),M=P(()=>{w(!0),z?.(!R),D.nextFrame(()=>{w(!1)})}),V=P(j=>{if(Bt(j.currentTarget))return j.preventDefault();j.preventDefault(),M()}),B=P(j=>{j.key===A.Space?(j.preventDefault(),M()):j.key===A.Enter&&Xe(j.currentTarget)}),U=P(j=>j.preventDefault()),I=Ve(),_=Ue(),{isFocusVisible:ee,focusProps:te}=_e({autoFocus:b}),{isHovered:G,hoverProps:ne}=He({isDisabled:l}),{pressed:se,pressProps:L}=Be({disabled:l}),Q=W({checked:R,disabled:l,hover:G,focus:ee,active:se,autofocus:b,changing:H}),me=Oe({id:u,ref:C,role:"switch",type:Ke(e,k),tabIndex:e.tabIndex===-1?0:(t=e.tabIndex)!=null?t:0,"aria-checked":R,"aria-labelledby":I,"aria-describedby":_,disabled:l||void 0,autoFocus:b,onClick:V,onKeyUp:B,onKeyPress:U},te,ne,L),he=i.useCallback(()=>{if(x!==void 0)return z?.(x)},[z,x]),v=Z();return E.createElement(E.Fragment,null,h!=null&&E.createElement(et,{disabled:l,data:{[h]:p||"on"},overrides:{type:"checkbox",checked:R},form:f,onReset:he}),v({ourProps:me,theirProps:g,slot:Q,defaultTag:Mn,name:"Switch"}))}let zn=J(Pn),Fn=Tn,Dn=Fe,Vn=Ut,Un=Object.assign(zn,{Group:Fn,Label:Dn,Description:Vn});var ae={exports:{}},Ae;function _n(){if(Ae)return ae.exports;Ae=1;var e={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(e).join("|"),t=new RegExp(n,"g"),s=new RegExp(n,"");function o(l){return e[l]}var a=function(l){return l.replace(t,o)},u=function(l){return!!l.match(s)};return ae.exports=a,ae.exports.has=u,ae.exports.remove=a,ae.exports}var Hn=_n();const Bn=pt(Hn);/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2020 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const T={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0},Kn=(e,n)=>String(e.rankedValue).localeCompare(String(n.rankedValue));function ct(e,n,t){t===void 0&&(t={});const{keys:s,threshold:o=T.MATCHES,baseSort:a=Kn,sorter:u=c=>c.sort((m,h)=>Gn(m,h,a))}=t,l=e.reduce(d,[]);return u(l).map(c=>{let{item:m}=c;return m});function d(c,m,h){const p=Qn(m,s,n,t),{rank:f,keyThreshold:b=o}=p;return f>=b&&c.push({...p,item:m,index:h}),c}}ct.rankings=T;function Qn(e,n,t,s){if(!n){const a=e;return{rankedValue:a,rank:Re(a,t,s),keyIndex:-1,keyThreshold:s.threshold}}return Jn(e,n).reduce((a,u,l)=>{let{rank:d,rankedValue:c,keyIndex:m,keyThreshold:h}=a,{itemValue:p,attributes:f}=u,b=Re(p,t,s),g=c;const{minRanking:S,maxRanking:k,threshold:y}=f;return b<S&&b>=T.MATCHES?b=S:b>k&&(b=k),b>d&&(d=b,m=l,h=y,g=p),{rankedValue:g,rank:d,keyIndex:m,keyThreshold:h}},{rankedValue:e,rank:T.NO_MATCH,keyIndex:-1,keyThreshold:s.threshold})}function Re(e,n,t){return e=Ne(e,t),n=Ne(n,t),n.length>e.length?T.NO_MATCH:e===n?T.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),n=n.toLowerCase(),e===n?T.EQUAL:e.startsWith(n)?T.STARTS_WITH:e.includes(` ${n}`)?T.WORD_STARTS_WITH:e.includes(n)?T.CONTAINS:n.length===1?T.NO_MATCH:Wn(e).includes(n)?T.ACRONYM:Zn(e,n))}function Wn(e){let n="";return e.split(" ").forEach(s=>{s.split("-").forEach(a=>{n+=a.substr(0,1)})}),n}function Zn(e,n){let t=0,s=0;function o(d,c,m){for(let h=m,p=c.length;h<p;h++)if(c[h]===d)return t+=1,h+1;return-1}function a(d){const c=1/d,m=t/n.length;return T.MATCHES+m*c}const u=o(n[0],e,0);if(u<0)return T.NO_MATCH;s=u;for(let d=1,c=n.length;d<c;d++){const m=n[d];if(s=o(m,e,s),!(s>-1))return T.NO_MATCH}const l=s-u;return a(l)}function Gn(e,n,t){const{rank:a,keyIndex:u}=e,{rank:l,keyIndex:d}=n;return a===l?u===d?t(e,n):u<d?-1:1:a>l?-1:1}function Ne(e,n){let{keepDiacritics:t}=n;return e=`${e}`,t||(e=Bn(e)),e}function qn(e,n){typeof n=="object"&&(n=n.key);let t;if(typeof n=="function")t=n(e);else if(e==null)t=null;else if(Object.hasOwnProperty.call(e,n))t=e[n];else{if(n.includes("."))return Yn(n,e);t=null}return t==null?[]:Array.isArray(t)?t:[String(t)]}function Yn(e,n){const t=e.split(".");let s=[n];for(let o=0,a=t.length;o<a;o++){const u=t[o];let l=[];for(let d=0,c=s.length;d<c;d++){const m=s[d];if(m!=null)if(Object.hasOwnProperty.call(m,u)){const h=m[u];h!=null&&l.push(h)}else u==="*"&&(l=l.concat(m))}s=l}return Array.isArray(s[0])?[].concat(...s):s}function Jn(e,n){const t=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],u=Xn(a),l=qn(e,a);for(let d=0,c=l.length;d<c;d++)t.push({itemValue:l[d],attributes:u})}return t}const Le={maxRanking:1/0,minRanking:-1/0};function Xn(e){return typeof e=="string"?Le:{...Le,...e}}function es({title:e,titleId:n,...t},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const ts=i.forwardRef(es);function ns({title:e,titleId:n,...t},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const ss=i.forwardRef(ns),os=({match:e,children:n})=>{const t=e.toLowerCase(),s=e.length?n.split(new RegExp("("+e+")","ig")):[n];return r.jsx("div",{children:s.map((o,a)=>o.toLowerCase()===t?r.jsx("span",{className:"bg-yellow-400 text-black",children:o},a):r.jsx("span",{className:" text-zinc-200",children:o},a))})},as=e=>{const n=[{id:1,name:"stdout"},{id:2,name:"stderr"}],[t,s]=i.useState([]),[o,a]=i.useState(!1),[u,l]=i.useState(n[0]),d=i.useRef(null),[c,m]=i.useState(""),[h,p]=i.useState(!1),[f,b]=i.useState(0),g=!c&&t||ct(t,c);i.useEffect(()=>{const y=()=>{const C=window.innerHeight*4/6;b(C)};return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]);const S={height:f+"px"};i.useEffect(()=>{const y=x=>{(x.ctrlKey||x.metaKey)&&x.key==="f"&&(p(!0),e.setLiveReload(!1),x.preventDefault())},O=x=>{x.key==="Escape"&&(m(""),p(!1))},C=()=>{m(""),p(!1)};return window.addEventListener("click",C),window.addEventListener("keydown",y),window.addEventListener("keyup",O),()=>{window.removeEventListener("click",C),window.removeEventListener("keydown",y),window.removeEventListener("keyup",O)}},[h]);const k=()=>{const y=e.server!="local"?`${e.base}/remote/${e.server}/logs/${e.id}/${u.name}`:`${e.base}/process/${e.id}/logs/${u.name}`;be.get(y).json().then(O=>s(O.logs)).finally(()=>a(!0))};return i.useEffect(()=>{a(!1),k()},[u]),i.useEffect(()=>{const y=setInterval(()=>{e.liveReload&&(k(),d.current?.scrollIntoView())},5e3);return()=>clearInterval(y)},[e.liveReload]),i.useEffect(()=>{d.current?.scrollIntoView()},[o]),o?r.jsxs("div",{children:[h&&r.jsxs("div",{className:"z-50 fixed top-[16.5rem] right-5 w-96 flex bg-zinc-800/50 backdrop-blur-md px-3 py-1 rounded-lg border border-zinc-700 shadow",children:[r.jsx("input",{className:"grow bg-transparent p-2 border-0 text-white focus:ring-0 sm:text-sm placeholder-zinc-accent-fuchsia-500",autoFocus:!0,placeholder:"Filter logs...",value:c,onChange:y=>m(y.target.value)}),r.jsx("span",{className:"grow-0 text-zinc-400 font-medium mt-1.5",children:c&&g.length+" matches"})]}),r.jsxs("div",{className:"p-5 pb-0 break-words overflow-y-scroll font-mono",style:S,children:[g.map((y,O)=>r.jsx(os,{match:c,children:y},O)),r.jsx("div",{ref:d})]}),r.jsx("div",{className:"absolute bottom-3 right-[125px]",children:r.jsxs(Un,{checked:e.liveReload,onChange:e.setLiveReload,className:"group relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer items-center justify-start rounded-full border-2 border-transparent bg-zinc-800 transition-colors duration-200 ease-in-out focus:outline-none data-[checked]:bg-sky-500",children:[r.jsx("span",{className:"sr-only",children:"Set live reload"}),r.jsxs("span",{className:"pointer-events-none relative inline-block h-3.5 w-3.5 transform rounded-full bg-zinc-500 group-data-[checked]:bg-white shadow ring-0 transition duration-200 ease-in-out translate-x-0 group-data-[checked]:translate-x-3.5",children:[r.jsx("span",{"aria-hidden":"true",className:"absolute inset-0 flex h-full w-full items-center justify-center transition-opacity duration-200 ease-in group-data-[checked]:opacity-0 group-data-[checked]:duration-100 group-data-[checked]:ease-out",children:r.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",className:"h-2.5 w-2.5 text-zinc-100",children:r.jsx("path",{"fill-rule":"evenodd",d:"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm1 5.75A.75.75 0 0 1 5.75 7h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 5 7.75Zm0 3a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Z","clip-rule":"evenodd"})})}),r.jsx("span",{"aria-hidden":"true",className:"absolute inset-0 flex h-full w-full items-center justify-center opacity-0 transition-opacity duration-100 ease-out group-data-[checked]:opacity-100 group-data-[checked]:duration-200 group-data-[checked]:ease-in",children:r.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",className:"h-3 w-3 text-sky-500",children:r.jsx("path",{"fill-rule":"evenodd",d:"M5 4a.75.75 0 0 1 .738.616l.252 1.388A1.25 1.25 0 0 0 6.996 7.01l1.388.252a.75.75 0 0 1 0 1.476l-1.388.252A1.25 1.25 0 0 0 5.99 9.996l-.252 1.388a.75.75 0 0 1-1.476 0L4.01 9.996A1.25 1.25 0 0 0 3.004 8.99l-1.388-.252a.75.75 0 0 1 0-1.476l1.388-.252A1.25 1.25 0 0 0 4.01 6.004l.252-1.388A.75.75 0 0 1 5 4ZM12 1a.75.75 0 0 1 .721.544l.195.682c.118.415.443.74.858.858l.682.195a.75.75 0 0 1 0 1.442l-.682.195a1.25 1.25 0 0 0-.858.858l-.195.682a.75.75 0 0 1-1.442 0l-.195-.682a1.25 1.25 0 0 0-.858-.858l-.682-.195a.75.75 0 0 1 0-1.442l.682-.195a1.25 1.25 0 0 0 .858-.858l.195-.682A.75.75 0 0 1 12 1ZM10 11a.75.75 0 0 1 .728.568.968.968 0 0 0 .704.704.75.75 0 0 1 0 1.456.968.968 0 0 0-.704.704.75.75 0 0 1-1.456 0 .968.968 0 0 0-.704-.704.75.75 0 0 1 0-1.456.968.968 0 0 0 .704-.704A.75.75 0 0 1 10 11Z","clip-rule":"evenodd"})})})]})]})}),r.jsx(Nn,{className:"absolute bottom-3 right-3",value:u,onChange:l,children:()=>r.jsxs("div",{children:[r.jsxs(rt,{className:"relative w-full cursor-pointer rounded-lg py-1.5 pl-3 pr-10 text-left saturate-[50%] border border-zinc-700/50 hover:border-zinc-600/50 bg-zinc-800/50 text-zinc-50 hover:bg-zinc-700/50 shadow-sm focus:outline-none sm:text-sm sm:leading-6",children:[r.jsx("span",{className:"block truncate",children:u.name}),r.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:r.jsx(ss,{className:"h-5 w-5 text-zinc-500","aria-hidden":"true"})})]}),r.jsx(it,{transition:!0,className:"absolute z-10 -mt-2 max-h-60 w-full overflow-auto rounded-lg bg-zinc-900/80 backdrop-blur-md border border-zinc-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none text-base p-1 text-base shadow-lg focus:outline-none data-[closed]:data-[leave]:opacity-0 data-[leave]:transition data-[leave]:duration-100 data-[leave]:ease-in sm:text-sm -translate-y-full transform",children:n.map(y=>r.jsx(lt,{className:({focus:O})=>q(O?"bg-zinc-800/80 text-zinc-50":"",O?"":"text-zinc-200","relative rounded-md block p-2 w-full text-left cursor-pointer select-none"),value:y,children:({selected:O,focus:C})=>r.jsxs(r.Fragment,{children:[r.jsx("span",{className:q(O?"font-semibold":"font-normal","block truncate"),children:y.name}),O?r.jsx("span",{className:"text-emerald-500 absolute inset-y-0 right-0 flex items-center pr-1.5",children:r.jsx(ts,{className:"h-4 w-4","aria-hidden":"true"})}):null]})},y.id))})]})})]}):r.jsx(Te,{})},ms=e=>{const[n,t]=i.useState(),[s,o]=i.useState(!1),[a,u]=i.useState(!1),[l,d]=i.useState(null),[c,m]=i.useState(!1),h={online:"bg-emerald-400/10 text-emerald-400",stopped:"bg-red-500/10 text-red-500",crashed:"bg-amber-400/10 text-amber-400"},p=new URLSearchParams(window.location.search).get("server")??"local",f=()=>{let g,S=!1;const k=new dt(`${e.base}/live/process/${p}/${e.id}`,{headers:ft});return d(k),u(!0),k.onmessage=y=>{const O=JSON.parse(y.data);t(O),u(!1),O.info.status=="stopped"&&k.close(),S||(o(!0),S=!0)},k.onerror=y=>{k.close(),g=setTimeout(()=>{f()},5e3)},g};i.useEffect(()=>{const g=f();return()=>{l&&l.close(),clearTimeout(g)}},[]);const b=(g,S)=>p!="local"?be.post(`${e.base}/remote/${p}/action/${g}`,{json:{method:S}}).then(()=>f()):be.post(`${e.base}/process/${g}/action`,{json:{method:S}}).then(()=>f());if(s){const g=qt(n.info.status),[S,k]=Yt(n.info.uptime),[y,O]=Jt(g?n.stats.memory_usage.rss:0),C=[{name:"Status",value:n.info.status},{name:"Uptime",value:g?S:"none",unit:g?k:""},{name:"Memory",value:g?y.toFixed(2):"offline",unit:g?O:""},{name:"CPU",value:g?n.stats.cpu_percent.toFixed(2):"offline",unit:g?"%":""}];return r.jsxs(i.Fragment,{children:[r.jsxs("div",{className:"absolute top-2 right-3 z-[200]",children:[r.jsx("span",{className:"text-xs text-zinc-500 mr-2",children:c?"Fetching logs live":"Live logs paused"}),r.jsxs("span",{className:"inline-flex items-center gap-x-1.5 rounded-md px-2 py-1 text-xs font-medium text-white ring-1 ring-inset ring-zinc-800",children:[r.jsx("svg",{viewBox:"0 0 6 6","aria-hidden":"true",className:"h-1.5 w-1.5 fill-green-400",children:r.jsx("circle",{r:3,cx:3,cy:3})}),p!="local"?p:"Internal"]})]}),r.jsxs("div",{className:"flex items-start justify-between gap-x-8 gap-y-4 bg-zinc-700/10 px-4 py-4 flex-row items-center sm:px-6 lg:px-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-x-3",children:[r.jsx("h1",{className:"flex gap-x-1 text-base leading-7",children:r.jsx("span",{className:"font-semibold text-white cursor-default",children:n.info.name})}),r.jsx("div",{className:`flex-none rounded-full p-1 ${h[n.info.status]}`,children:r.jsx("div",{className:"h-2 w-2 rounded-full bg-current"})}),g&&r.jsx("div",{className:"order-first flex-none rounded-full bg-sky-400/10 px-2 py-0.5 text-xs font-medium text-sky-400 ring-1 ring-inset ring-sky-400/30 sm:order-none",children:n.info.pid})]}),r.jsx("p",{className:"text-xs leading-6 text-zinc-400",children:n.info.command})]}),r.jsxs("div",{className:"flex lg:ml-4 mt-0",children:[r.jsx("span",{children:r.jsx("button",{type:"button",disabled:a,onClick:()=>b(e.id,g?"restart":"start"),className:"disabled:opacity-50 disabled:pointer-events-none transition inline-flex items-center justify-center space-x-1.5 border focus:outline-none focus:ring-0 focus:ring-offset-0 focus:z-10 shrink-0 saturate-[110%] border-zinc-700 hover:border-zinc-600 bg-zinc-800 text-zinc-50 hover:bg-zinc-700 px-4 py-2 text-sm font-semibold rounded-lg",children:a?r.jsxs("svg",{className:"w-5 h-5 text-zinc-800 animate-spin fill-zinc-50",viewBox:"0 0 100 101",fill:"none",children:[r.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),r.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}):g?"Restart":"Start"})}),r.jsx("span",{className:"ml-3",children:r.jsxs(Kt,{as:"div",className:"relative inline-block text-left",children:[r.jsx("div",{children:r.jsx(Qt,{className:"transition inline-flex items-center justify-center space-x-1.5 border focus:outline-none focus:ring-0 focus:ring-offset-0 focus:z-10 shrink-0 border-zinc-700 bg-transparent hover:bg-zinc-800 p-2 text-sm font-semibold rounded-lg",children:r.jsx(Wt,{className:"h-5 w-5 text-zinc-50","aria-hidden":"true"})})}),r.jsx(rn,{as:i.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:r.jsxs(Zt,{anchor:{to:"bottom end",gap:"8px",padding:"16px"},className:"z-10 w-48 origin-top-right rounded-lg bg-zinc-900/80 backdrop-blur-md border border-zinc-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none text-base divide-y divide-zinc-800/50",children:[r.jsxs("div",{className:"p-1.5",children:[!g&&r.jsx(oe,{children:({focus:x})=>r.jsx("a",{onClick:()=>b(e.id,"start"),className:q(x?"bg-emerald-700/10 text-emerald-500":"text-zinc-200","rounded-md block p-2 w-full text-left cursor-pointer"),children:"Start"})}),r.jsx(oe,{children:({focus:x})=>r.jsx("a",{onClick:()=>b(e.id,"stop"),className:q(x?"bg-yellow-400/10 text-amber-500":"text-zinc-200","rounded-md block p-2 w-full text-left cursor-pointer"),children:"Terminate"})}),r.jsx(oe,{children:({focus:x})=>r.jsx(Gt,{server:p,base:e.base,process_id:e.id,active:x,old:n.info.name})}),r.jsx(oe,{children:({_:x})=>r.jsx("a",{onClick:()=>{b(e.id,"flush"),window.location.reload()},className:"text-zinc-200 rounded-md block p-2 w-full text-left cursor-pointer hover:bg-zinc-800/80 hover:text-zinc-50",children:"Clean Logs"})})]}),r.jsx("div",{className:"p-1.5",children:r.jsx(oe,{children:({focus:x})=>r.jsx("a",{onClick:()=>b(e.id,"delete"),className:q(x?"bg-red-700/10 text-red-500":"text-red-400","rounded-md block p-2 w-full text-left cursor-pointer"),children:"Delete"})})})]})})]})})]})]}),r.jsx("div",{className:"grid bg-zinc-700/10 grid-cols-4 border-b border-white/[.03] shadow-lg",children:C.map((x,R)=>r.jsxs("div",{className:q(R%2===1||R===2?"border-l":"","border-t border-white/5 py-6 px-4 sm:px-6 lg:px-8"),children:[r.jsx("p",{className:"text-sm font-medium leading-6 text-zinc-400",children:x.name}),r.jsxs("p",{className:"mt-2 flex items-baseline gap-x-2",children:[r.jsx("span",{className:"text-xl sm:text-3xl lg:text-4xl font-semibold tracking-tight text-white",children:x.value}),x.unit?r.jsx("span",{className:"text-sm text-zinc-400",children:x.unit}):null]})]},x.name))}),r.jsx(as,{server:p,id:parseInt(e.id),base:e.base,liveReload:c,setLiveReload:m})]})}else return r.jsx(Te,{})};export{ms as default};
