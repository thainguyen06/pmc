import{$ as s}from"./store.Bn0h-d5G.js";const a=2e3;class r extends HTMLElement{constructor(){super();const t=this.dataset.base,o=window.location.pathname.includes("login"),c=t+"/health",n=new AbortController,i=setTimeout(()=>n.abort(),a);fetch(c,{headers:{token:s.get().token||""},signal:n.signal,cache:"no-cache"}).then(e=>{clearTimeout(i),o?e.status===200&&(window.location.href=t+"/"):e.status!==200&&(window.location.href=t+"/login")}).catch(e=>{clearTimeout(i),!o&&e.name!=="AbortError"&&(window.location.href=t+"/login")})}}customElements.define("app-redirect",r);
